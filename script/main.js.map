{"version":3,"file":"main.js","sources":["_mjs/main.js","_mjs/util/masks.js"],"sourcesContent":["import mascaras from './util/masks'\r\n\r\nconst each = (i, f) => Array.prototype.forEach.call(i, f);\r\nconst form = document.querySelectorAll('form');\r\n\r\nif (form.length) each(form, FormMask);\r\nfunction FormMask(f) {\r\n  (Array.from(f.elements))\r\n      .filter(el => el.hasAttribute('data-mask'))\r\n      .forEach(campo => campo.addEventListener('input', function () {\r\n        const metodo = this.getAttribute('data-mask');\r\n        if (!mascaras[metodo]) return console.log(`A máscara do tipo \"${metodo}\" não foi definida.`);\r\n\r\n        mascaras[metodo](this);\r\n  }));\r\n}\r\n\r\nfunction makeObj(data){\r\n  return {\r\n    nome: document.querySelector('#nome').value,\r\n    razao: document.querySelector('#razao').value,\r\n    cpf: document.querySelector('#cpfcnpj').value,\r\n    endereco: document.querySelector('#endereco').value,\r\n    cep: document.querySelector('#cep').value,\r\n    numero: document.querySelector('#numero').value,\r\n    bairro: document.querySelector('#bairro').value,\r\n    cidade: document.querySelector('#cidade').value,\r\n    estado: document.querySelector('#estado').value,\r\n    email: document.querySelector('#email').value,\r\n  }\r\n}\r\nlet array = []\r\n\r\nconst pk = document.querySelector('#cpfcnpj')\r\n// const nome = document.querySelector('#nome').value\r\n// const razao = document.querySelector('#razao').value\r\n// const endereco = document.querySelector('#endereco').value\r\n// const cep = document.querySelector('#cep').value\r\n// const numero = document.querySelector('#numero').value\r\n// const bairro = document.querySelector('#bairro').value\r\n// const cidade = document.querySelector('#cidade').value\r\n// const estado = document.querySelector('#estado').value\r\n// const email = document.querySelector('#email').value\r\nconst clearForm = document.querySelector('.contact-form')\r\n\r\ndocument.querySelector('.enviar').onclick = function() {\r\n    let indexArray = array.findIndex( elem => {\r\n        return elem.cpf === pk.value\r\n    })\r\n    if (indexArray > -1) {\r\n        array[indexArray] = makeObj();\r\n    } else {\r\n        array.push(makeObj());\r\n    }\r\n    transformText(array);\r\n    clearForm.reset();\r\n}\r\nfunction arrayRemove(arr, value){\r\n    return arr.filter(function(ele, index){\r\n        return index != value;\r\n    });\r\n}\r\n\r\ndocument.querySelector('.deletar').onclick = function() {    \r\n    let indexArray = array.findIndex( elem => {\r\n        return elem.cpf === pk.value\r\n    }) \r\n\r\n    if (indexArray > -1) {\r\n        array = arrayRemove(array, indexArray);        \r\n    }\r\n    transformText(array);\r\n    clearForm.reset();\r\n}\r\n\r\nfunction transformText(array){\r\n    const objectText = JSON.stringify({array}, null, \" \")\r\n    const dataContainer = document.getElementsByClassName('results__display')[0];\r\n    dataContainer.textContent = objectText;\r\n}\r\n","const mascaras = {\r\n\r\n    nome: (campo) => {\r\n        if (/^[^a-zA-Z]+/.test(campo.value)) campo.value = '';\r\n        const regra = /[-'a-zA-ZÀ-ÖØ-öø-ſ ]+/gi;\r\n        const valores = campo.value.match(regra);\r\n        if (valores) campo.value = valores.join('').replace(/ +/gi, ' ');\r\n    },\r\n\r\n    cep: (campo) => {\r\n        const regras = [/\\d+/gi, /^(\\d{5})-?(\\d{1,3})/];\r\n        const valores = campo.value.match(regras[0]);\r\n        if (!valores) return campo.value = '';\r\n        campo.value = valores.join('');\r\n        if (regras[1].test(campo.value)) campo.value = campo.value.replace(regras[1], '$1-$2');\r\n        if (campo.value.length > 9) campo.value = campo.value.substr(0, 9);\r\n    },\r\n\r\n    telefone: (campo) => {\r\n        const regras = [/\\d+/gi, /^(\\d\\d?)/, /^(\\d\\d)(\\d{4})-?(\\d{1,4})/, /^(\\d\\d)(\\d{5})-?(\\d{1,4})/];\r\n        const valores = campo.value.match(regras[0]);\r\n        if (!valores) return campo.value = '';\r\n        const valor = campo.value = valores.join('');\r\n        if (valor.length > 0) campo.value = valor.replace(regras[1], '($1');\r\n        if (valor.length > 2) campo.value = valor.replace(regras[1], '($1) ');\r\n        if (valor.length > 6) campo.value = valor.replace(regras[2], '($1) $2-$3');\r\n        if (valor.length > 10) campo.value = valor.replace(regras[3], '($1) $2-$3');\r\n        if (valor.length > 11) campo.value = campo.value.substr(0, 15);\r\n    },\r\n\r\n    rg: (campo) => {\r\n        const regras = [/\\d+/gi, /^(\\d{1,2})/, /^(\\d{1,2})\\.?(\\d{3})/, /^(\\d{1,2})\\.?(\\d{3})\\.?(\\d{3})/, /^(\\d{1,2})\\.?(\\d{3})\\.?(\\d{3})-?(\\d)?/];\r\n        const valores = campo.value.match(regras[0]);\r\n        const letras = campo.value.match(/[a-zA-Z]+$/gi);\r\n        const digito = letras ? letras[0][0] : '';\r\n        if (!valores) return campo.value = '';\r\n        const valor = campo.value = valores.join('');\r\n        if (valor.length > 2) campo.value = valor.replace(regras[1], '$1.');\r\n        if (valor.length > 5) campo.value = valor.replace(regras[2], '$1.$2.');\r\n        if (valor.length > 7) campo.value = valor.replace(regras[3], '$1.$2.$3');\r\n        if (valor.length === 8 && digito) campo.value += '-' + digito.toUpperCase();\r\n        if (valor.length > 8) campo.value = valor.replace(regras[4], '$1.$2.$3-$4');\r\n        if (valor.length > 9) campo.value = campo.value.substr(0, 12);\r\n    },\r\n\r\n    cpfcnpj: (campo) => {\r\n        const numeros = /\\d+/gi;\r\n        const valores = campo.value.match(numeros);\r\n        if (!valores) return campo.value = '';\r\n        const valor = valores.join('');\r\n        const cpf = /^([0-9]{1,3})?\\.?([0-9]{1,3})?\\.?([0-9]{1,3})?\\-?([0-9]{1,2})?$/;\r\n        const cnpj = /^([0-9]{1,2})?\\.?([0-9]{1,3})?\\.?([0-9]{1,3})?\\/?([0-9]{1,4})?\\-?([0-9]{1,2})?$/;\r\n        campo.value = campo.value.replace(/[^\\d.\\/-]/gi, '');\r\n        if (cpf.test(valor)) campo.value = valor.replace(cpf, (all, a, b, c, d) => {\r\n            return (a || '') + (b ? '.' + b : '') + (c ? '.' + c : '') + (d ? '-' + d : '');\r\n        });\r\n        else if (cnpj.test(valor)) campo.value = valor.replace(cnpj, (all, a, b, c, d, e) => {\r\n            return (a || '') + (b ? '.' + b : '') + (c ? '.' + c : '') + (d ? '/' + d : '') + (e ? '-' + e : '');\r\n        });\r\n        if (campo.value.length > 18) campo.value = campo.value.substr(0, 18);\r\n    },\r\n\r\n    data: (campo) => {\r\n        if (campo.type === 'date') return;\r\n        const numeros = campo.value.replace(/^0?\\/|[^\\d\\/]/gi, '');\r\n        if (numeros === '') {\r\n            campo.value = numeros;\r\n            campo.style.borderColor = null;\r\n            return;\r\n        };\r\n        campo.value = numeros\r\n        .replace(/(^|\\/)00+\\/?/g, '0')\r\n        .replace(/(^|\\/)([1-9]\\/)/, '0$2')\r\n        .replace(\r\n            /(\\d\\d)(\\/?)(\\d{1,2})?(\\/?)0*(\\d{1,4})?.*/g,\r\n            function(all, dd, s1, mm, s2, aaaa) {\r\n                if (dd > 31 || mm > 12) campo.style.borderColor = 'red';\r\n                else campo.style.borderColor = null;\r\n                return dd + (mm ? '/' + mm : s1 || '') + (aaaa ? '/' + aaaa : s2 || '');\r\n            }\r\n        );\r\n    },\r\n\r\n    email: (campo) => {\r\n        campo.value = campo.value.toLowerCase();\r\n    },\r\n\r\n    senha: (campo) => {\r\n        if (campo.value.length > 0 && campo.value.length < 6) campo.style.borderColor = 'red';\r\n        else campo.style.borderColor = null;\r\n    }\r\n\r\n};\r\n\r\nexport default mascaras;"],"names":["makeObj","document","querySelector","value","arrayRemove","arr","filter","ele","index","transformText","array","objectText","JSON","stringify","dataContainer","getElementsByClassName","textContent","mascaras","campo","test","regra","valores","match","join","replace","regras","length","substr","valor","letras","digito","toUpperCase","numeros","cpf","cnpj","all","a","b","c","d","e","type","style","borderColor","dd","s1","mm","s2","aaaa","toLowerCase","form","querySelectorAll","i","f","Array","prototype","forEach","call","each","from","elements","el","hasAttribute","addEventListener","metodo","getAttribute","console","log","pk","clearForm","onclick","indexArray","findIndex","elem","push","reset"],"mappings":"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"}